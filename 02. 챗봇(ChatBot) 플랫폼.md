# 챗봇 개발 플랫폼
- 챗봇을 개발하는 방법은 크게 두 가지 입니다.<br>
첫 번째는 직접 메신저와 정보를 주고받고 문장의 의미를 파악할 수 있는 서버 프로그램을 구현하는 것입니다.<br>
두 번째로 자연어처리나 메신저와의 연결을 대신해주는 챗봇 플랫폼을 사용할 수도 있습니다.

## 챗봇 서비스의 구조
- 가장 단순한 챗봇 플랫폼은 아래와 같은 구조로 되어 있습니다.<br>
메신저에서 직접 문장을 입력받아서 바로 대답을 보내줍니다.<br>
외부 정보를 사용하지 않는다면 자체 서버가 필요 없기 때문에 매우 쉽게 구현이 가능합니다.<br>
Chatfuel과 단비가 이런 방식으로 되어 있습니다.

![서비스의 구조1](http://aidev.co.kr/files/attach/images/3423/894/003/d76bc1af5af519e0756be144762bf5b4.png)

- 다음으로 메신저에서 자체 서버로 메시지를 주고받는 구조입니다.<br>
그리고 챗봇 플랫폼에 문장을 보내 자연어처리를 합니다.<br>
여기서 나온 의도와 개체를 사용해서 적절한 문장을 생성하고 다시 메신저에 답변을 전송합니다.

![서비스의 구조2](http://aidev.co.kr/files/attach/images/3423/894/003/8bcddf4cf6f140f476b282b79c33c86b.png)


## 챗봇 개발 플랫폼 비교
- 현재까지 외국뿐 아니라 국내에서도 다양한 챗봇 개발툴이 공개되었습니다.<br>
지원되는 기능이나 성능, 가격 등이 각각 다르기 때문에 어떤 것을 골라야 할지 많이 고민이 되기 마련입니다.<br>
여기서는 Chatfuel, Dialogflow, 왓슨 컨버세이션, 단비 등 4가지 플랫폼을 비교해 보도록 하겠습니다.

| 챗봇 | Chatfuel | Dialogflow | 왓슨 컨버세이션 | 단비 |
|:---|:---:|:---:|:---:|:---:|
| 자연어처리 | 하 | 중 | 중 | 중 |
| 대화입력 | 중 | 중 | 상 | 상 |
| 메신저 연동 | 하 | 상 | 하 | 상 |
| 외부서비스 연결 | 중 | 중 | 상 | 중 |
| 문서화 | 하 | 하 | 중 | 상 |
| 무료제공 | 무제한(상) | 제한적(중) | 제한적(하) | 제한적(중) |

### Chatfuel
- Chatfuel은 현재 아마 전세계에서 가장 많이 사용하는 챗봇 플랫폼이 아닐까 합니다.<br>
유명한 타로챗봇 라마마도 이 개발툴로 구현되었습니다. 무엇보다 사용법이 아주 쉽습니다.<br>
코딩을 전혀 몰라도 챗봇을 만드는데 아무런 문제가 없습니다.<br>
페이스북만 지원하는게 단점이긴 하지만 클릭 몇 번으로 바로 메신저와 연결이 가능합니다.<br>
또한 리스트, 퀵 리플라이 같이 다양한 UI를 사용할 수 있습니다.
- 자연어처리(하): Chatfuel은 문장에서 의도와 개체를 파악하는 자연어처리가 불가능합니다.<br>
단지 전체 문장의 유사도만 비교하여 답변을 할 수 있습니다.<br>
그래서 대화를 통해 복잡한 명령을 수행하는 것보다는 메뉴를 선택하여 정보를 제공하는 챗봇에 최적화되어 있습니다.
- 대화 입력(중): 웹사이트에서 쉽게 대화를 추가할 수 있습니다.<br>
답변에 텍스트 뿐만 아니라 그림, 동영상, 버튼 등 다양한 형식이 가능합니다.<br>
블록 단위로 대화를 추가하는데 다른 블록으로 이동하거나 조건에 따른 분기도 가능합니다.<br>
하지만 그래프를 사용하는 다른 챗봇 플랫폼에 비해서 한 눈에 대화 흐름을 파악하기가 힘들다는 단점이 있습니다. 
- 메신저 연동(하): 오직 페이스북만 가능합니다.
- 외부서버 연결(중): 플러그인 형식으로 JSON API를 추가하여 외부 서버와 정보를 주고받을 수 있습니다.
- 문서화 (하): 영문으로는 잘 되어있지만 아쉽게도 한글은 지원하지 않습니다.
- 무료제공: 제한 없음

### Dialogflow
- Dialogflow는 구글이 제공하는 챗봇 플랫폼입니다.<br>
원래는 Api.ai 였는데 최근에 텐서플로와 비슷하게 이름이 바뀌었습니다.<br>
메뉴 UI 등 조금 변경된 부분이 있지만 이전과 거의 동일합니다.
- 자연어처리(중): 엔터티를 추가하여 자연어처리를 합니다.
'불고기피자 보내줘'로 인텐트의 문장을 추가하면 자동으로 'pizzatype' 엔터티를 인식합니다.<br>
'포테이터피자 보내줘'와 같이 입력되지 않은 다른 엔터티도 동일하게 처리할 수 있습니다.<br>
하지만 '포테이토피자 모내줘'와 같이 전혀 다른 동사를 사용해도 주문으로 인식을 합니다.<br>
형태소분석을 통해 자연어처리를 하지 않고 유사도를 기반으로 동작하는 것 같습니다.<br>
인텐트 메뉴에서 대답을 따로 설정할 수 있습니다.<br>
또한 각각 메신저에 맞는 UI를 사용할 수 있다는 것이 장점입니다.<br>
하지만 Chatfuel과 마찬가지로 그래프로 쉽게 대화 흐름을 파악하기가 불가능합니다.
- 대화 입력(중): 인텐트 메뉴에서 대답을 따로 설정할 수 있습니다.<br>
또한 각각 메신저에 맞는 UI를 사용할 수 있다는 것이 장점입니다.<br>
하지만 Chatfuel과 마찬가지로 그래프로 쉽게 대화 흐름을 파악하기가 불가능합니다.
- 메신저 연동(상): 카카오톡만 빼고 거의 모든 메신저를 지원합니다.
- 외부서버 연결(중): Webhook 서버를 설정하여 JSON 형식으로 처리된 정보를 전달할 수 있습니다.
- 문서화(하): 영문으로 된 도움말만 제공합니다.
- 무료제공: 1초에 3개의 문장 처리 가능

### Watson Conversation
- 왓슨 컨버세이션은 IBM의 인공지능 서비스 중 하나로 챗봇 개발을 쉽게 할 수 있도록 해주는 플랫폼입니다.<br>
현대카드, 워커힐 호텔, 롯데닷컴 등 국내의 많이 기업에서 자사의 챗봇에 도입하기도 하였습니다.
- 자연어처리(중): 이전과 동일하게 엔터티와 인텐트를 추가하였습니다.<br>
Dialogflow와 다르게 '보내줘'와 '모내줘'를 구분합니다.
하지만 입력된 '살거야'와 같은 어간을 가지고 있는 '사려고'는 처리하지 못합니다.<br>
왓슨 역시 동일한 의미인지 판단할때 형태소분석을 사용하지 않는 것 같습니다.<br>
인텐트 입력시 최대한 많은 예문을 입력할 필요가 있을 듯 합니다.
- 대화 입력(상): 이얼로그를 그래프로 표시하기 때문에 대화 흐름을 쉽게 파악할 수 있다는 것이 왓슨의 장점 중 하나입니다.<br>
다이얼로그를 선택하여 일치 조건이나 대답 문장 등을 설정할 수 있습니다.<br>
하지만 다른 챗봇 플랫폼과 다르게 오직 텍스트만 답변이 가능합니다.<br>
사진이나 UI 등을 사용하기 위해서는 외부 서버에서 처리해야 합니다.
- 메신저 연동(하): 슬랙과 페이스북만 가능합니다.
- 외부서버 연결(상): 보통 대부분의 다른 챗봇 플랫폼이 API를 통해서 외부와 연동하는 것과 달리,<br>
왓슨은 Node.js나 파이썬 등 각 언어에 맞는 SDK 라이브러리를 제공합니다.<br>
그래서 RESTful API나 JSON을 처리하기 위한 코드를 따로 작성할 필요가 없이<br>
왓슨과 쉽게 정보를 주고받을 수 있습니다.
- 문서화(중): 한글로 된 도움말을 제공합니다.<br>
하지만 약간 이해하기가 좀 어렵고 설명이 그리 자세하지는 않은 것 같습니다.
- 무료제공: 한달에 10,000 API 요청 / 인텐트, 엔터티 개수 제한

### danbee.Ai
- 단비는 LG CNS가 개발한 국산 챗봇 플랫폼입니다.<br>
외국의 다른 제품과 비교해도 성능이 떨어지지 않을 만큼 다양한 기능을 제공하고 있습니다.<br>
아직 출시한지 얼마 되지 않아 약간 정돈되지 않은 느낌이 들긴 하지만 앞으로 더욱 발전할 것이라 생각합니다.
- 자연어처리(중): 동일하게 엔터티와 인텐트를 추가하였습니다.<br>
입력되지 않은 다른 엔터티도 동일하게 인식합니다.<br>
'포테이토피자 보내주라'와 같이 형태가 변한 문장을 입력했는데 인식하지 못했습니다.<br>
하지만 인텐트에서 입력된 '불고기피자'로 입력하면 정상적으로 동작합니다.<br>
모든 엔터티에서 동일하게 처리되도록 수정될 필요가 있을 것 같습니다.<br>
'불고기피자 보내줘 빨리' 처럼 인텐트에 입력된 문장에 새로운 단어를 추가했을 때도 인식이 안되었습니다.<br>
임계치를 0%로 했는데도 이렇게 되는 것은 아마 버그일지도 모르겠습니다.<br>
앞으로 계속 보완될 것이라 기대합니다.
- 대화 입력(상): 그래프로 대화 흐름을 제어할 수 있어 쉽게 관리가 가능합니다.<br>
분기나 슬롯채우기 등 여러가지 노드를 지원하고 있어 구조적으로 대화를 처리할 수 있습니다.
- 메신저 연동(상): 국산 챗봇 플랫폼 답게 카카오톡을 지원하는 것이 큰 장점입니다.<br>
하지만 현재 카카오톡 정책 변경으로 인행 제한적으로 지원가능 합니다.
- 외부서버 연결(중): API를 등록하고 'Api 노드'를 사용해서 외부 서버와 정보를 주고받을 수 있습니다.
- 문서화(상): 단비의 가장 큰 장점 중 하나로 한글로 된 도움말이 아주 자세히 나와있습니다.<br>
이것만 참고하면 챗봇을 개발하는데 별다른 문제가 없을 듯 합니다.
- 무료제공: 하루에 10,000 API 요청 / 상업적 목적 불가능

