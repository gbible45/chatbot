## 실습
## strapi 환경 구성
### 1. 구글 클라우드 플랫폼 가입
- 구글 클라우드 플랫폼 접속 : [https://console.cloud.google.com](https://console.cloud.google.com)
- 회원 가입

### 2. VM 인스턴스 만들기
- 컴퓨팅 > Compute Engine
- 인스턴스 만들기
   - 이름: instance-strapi
   - 용도: 일반용도
     - 세대: 2
     - 머신 유형: n2-standard-2
   - 부팅 디스크: CentOS 7
   - ID 및 API 액세스
     - 서비스 계정: Compute Engine default service account
     - 액세스 범위: 기본 액세스 허용
   - 방화벽:
     - 체크: HTTP 트래픽 허용
     - 체크: HTTPS 드래픽 허용

### 3. VM 인스턴스에 Docker 설치
- 인스턴스 목록에서 SSH > 브라우저창에서 열기
- docker 설치
```bash

sudo -i

yum install -y yum-utils device-mapper-persistent-data lvm2

yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo

yum install docker-ce

systemctl start docker

systemctl enable docker

```
### 4. Strapi 설치
```bash

docker run -e MONGO_INITDB_DATABASE=strapi \
  -v `pwd`/db/:/data/db \
  --name strapi-mongo \
  -d mongo

docker run -e APP_NAME=strapi-app \
  -e DATABASE_CLIENT=mongo \
  -e DATABASE_HOST=strapi-mongo \
  -e DATABASE_PORT=27017 \
  -e DATABASE_NAME=strapi \
  -v `pwd`/strapi-app:/usr/src/api/strapi-app \
  --link strapi-mongo:mongo \
  -p 80:1337 \
  --name strapi -d strapi/strapi

```
